- [실행 컨텍스트란?](#실행-컨텍스트란)
  - [실행 컨텍스트 정의](#실행-컨텍스트-정의)
- [실행 컨텍스트 원리](#실행-컨텍스트-원리)
  - [실행 컨텍스트 구성 요소](#실행-컨텍스트-구성-요소)
  - [environmentRecord와 전역 실행 컨텍스트](#environmentrecord와-전역-실행-컨텍스트)
  - [호이스팅(Hoisting)](#호이스팅hoisting)
  - [스코프와 스코프 체인](#스코프와-스코프-체인)
  - [전역변수와 지역변수](#전역변수와-지역변수)
- [필요한 추가 학습](#필요한-추가-학습)

## 실행 컨텍스트란?

### 실행 컨텍스트 정의

- **실행할 코드에 제공할 환경 정보를 모아놓은 객체**
- 코드를 실행할 때 필요한 환경 정보를 모아 컨텍스트를 구성하고, 이를 콜스택에 쌓아올렸다가<br> 가장 위에 있는 컨특스트와 관련 코드를 실행하는 식으로 코드의 환경과 순서를 보장
- 컨텍스트를 생성(구성)할 수 있는 방법
  - 전역 코드
  - 함수 코드
  - eval 코드
  - 모듈(블록) 코드

## 실행 컨텍스트 원리

### 실행 컨텍스트 구성 요소

- `VariableEnvironment`
  - 선언 시점의 `LexicalEnvironment`의 스냅샷으로 변경사항은 반영되지 않음.
  - 구성 요소
    - `environmentRecord`: 컨택스트 내의 식별자들에 대한 정보
    - `outerEnvironmentReference`: 직전 컨텍스트의 `LexicalEnvironment` 정보를 참조
- `LexicalEnvironment`
  - 어휘적 환경 또는 `사전적인 환경₩(컨택스트를 구성하는 환경정보를 사전에서 접하는 느낌으로 모아놓은 것)
  - 변경사항이 실시간으로 반영
  - 구성 요소
    - `environmentRecord` : 컨택스트 내의 식별자들에 대한 정보
    - `outerEnvironmentReference`: 직전 컨텍스트의 `LexicalEnvironment` 정보를 참조
- `ThisBinding` : 식별자가 바라봐야 할 대상 객체

### environmentRecord와 전역 실행 컨텍스트

- `environmentRecord`에는 현재 컨택스트와 관련된 코드의 식별자 정보가 저장
  - ex) 함수의 매개변수 식별자, 함수 선언문의 함수 자체, var로 선언된 변수의 식별자
- 전역 실행컨텍스트
  - 전역실행 컨텍스트는 자바스크립트 구동 환경이 제공하는 전역 객체를 활용
    - ex) 브라우저의 `window`, Node.js의 `global`객체
    - 해당 전역객체는 호스트 객체로 분류

### 호이스팅(Hoisting)

- 변수 선언문이 코드의 상단으로 끌어 올려지는 것처럼 동작하는 특징
- 변수 선언이 런타임 이전 단계에서 먼저 실행되어서 발생하는 특징
- 함수 선언문은 전체를 호이스팅, 함수 표현식은 변수 선언문만 호이스팅

### 스코프와 스코프 체인

- 스코프 : 변수의 유효범위
- 스코프 체인
  - `outerEnvironmentReference`는 해당 함수가 선언된 위치의 `LexicalEnvironment`를 참조
  - 특정 변수에 접근하려고 할 때, 현재 컨택스트의 `LexicalEnvironment`부터 `outerEnvironmentReference`에 담긴 `LexicalEnvironment`를 탐색하는 과정을 거친다.
  - 이러한 구조적 특성으로 인해, 여러 스코프에서 동일한 식별자를 선언한 경우 체인 상에서 가장 먼저 발견한 식별자에만 접근이 가능하다.

### 전역변수와 지역변수

- 전역 변수 : 전역 컨텍스트의 `LexicalEnvironment`에 담긴 변수
- 지역 변수 : 그 밖의 함수에 의해 생성된 실행 컨텍스트의 변수
- 코드의 안전성을 위해 전역변수 사용을 최소화할 필요 有

## 필요한 추가 학습

- 블록 레벨 스코프
- 호이스팅과 TDZ
